import{u as f}from"./asyncData.00a719f9.js";import{z as v,_ as d,a as l,a9 as _,b as g,ae as h,U as y,V as p,x as w}from"./entry.8eb68310.js";import{q as C,h as s,e as P,j as $}from"./query.32ea6364.js";import{w as c,s as N,a as j}from"./utils.51abdc9a.js";import{u as x}from"./preview.c3777cd5.js";/* empty css                             *//* empty css                   *//* empty css                            *//* empty css                         *//* empty css                  *//* empty css                   *//* empty css                        *//* empty css                    */import"./ContentSlot.6db62a9b.js";/* empty css                 *//* empty css                                   *//* empty css                            *//* empty css                      *//* empty css                    *//* empty css                    *//* empty css                    *//* empty css                    *//* empty css                    *//* empty css                    *//* empty css                    *//* empty css                    *//* empty css                     *//* empty css                    *//* empty css                    *//* empty css                   *//* empty css                        *//* empty css                       *//* empty css                    *//* empty css                    *//* empty css                       *//* empty css                    *//* empty css                    *//* empty css                  *//* empty css                  *//* empty css                       *//* empty css                    *//* empty css                      *//* empty css                       *//* empty css                      *//* empty css                     *//* empty css                 *//* empty css                    *//* empty css                     *//* empty css                        *//* empty css                           *//* empty css                      *//* empty css                 *//* empty css                     *//* empty css                       *//* empty css                                     *//* empty css                                    *//* empty css                                *//* empty css                          *//* empty css                               *//* empty css                    */const T=async r=>{const{content:t}=v().public;typeof(r==null?void 0:r.params)!="function"&&(r=C(r));const o=r.params(),e=t.experimental.stripQueryParameters?c(`/navigation/${`${s(o)}.${t.integrity}`}/${P(o)}.json`):c(`/navigation/${s(o)}.${t.integrity}.json`);if(N())return(await d(()=>import("./client-db.ec26cece.js"),["./client-db.ec26cece.js","./entry.8eb68310.js","./entry.70bfec48.css","./query.32ea6364.js","./utils.51abdc9a.js","./preview.c3777cd5.js"],import.meta.url).then(a=>a.generateNavigation))(o);const i=await $fetch(e,{method:"GET",responseType:"json",params:t.experimental.stripQueryParameters?void 0:{_params:$(o),previewToken:x().getPreviewToken()}});if(typeof i=="string"&&i.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return i};const Rt=l({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(r){const{query:t}=_(r),o=g(()=>{var i;return typeof((i=t.value)==null?void 0:i.params)=="function"?t.value.params():t.value});if(!o.value&&h("dd-navigation").value){const{navigation:i}=j();return{navigation:i}}const{data:e}=await f(`content-navigation-${s(o.value)}`,()=>T(o.value));return{navigation:e}},render(r){const t=y(),{navigation:o}=r,e=a=>p(w,{to:a._path},()=>a.title),i=(a,m)=>p("ul",m?{"data-level":m}:null,a.map(n=>n.children?p("li",null,[e(n),i(n.children,m+1)]):p("li",null,e(n)))),u=a=>i(a,0);return t!=null&&t.default?t.default({navigation:o,...this.$attrs}):u(o)}});export{Rt as default};
